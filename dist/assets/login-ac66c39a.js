import{r as n,a3 as C,a9 as S,j as e,ad as p,ab as o,Z as N,av as T,aw as R,ax as k,ay as I,W as P,az as B}from"./index-6eff42d1.js";import{T as D,R as E,a as F,d as A,b as q,u as H}from"./authContext-e474e10c.js";import{B as L}from"./Box-199e3e18.js";import{I as z}from"./InputAdornment-3a2032f0.js";import{I as M}from"./IconButton-ea9de599.js";import"./createBox-2169bbb4.js";const V=B({palette:{mode:"dark"}});function J(){var u;const[i,x]=n.useState(!1),[f,l]=n.useState(!1),{register:c,handleSubmit:d,formState:{errors:t},trigger:g}=C(),s=n.useRef(null),r=S();localStorage.clear(),sessionStorage.clear();const j=a=>{a&&g().then(()=>{d(m)()})},w=a=>{l(a)},b=()=>{if(x(a=>!a),s.current){const a=s.current.value.length;setTimeout(()=>{s.current&&(s.current.selectionStart=a,s.current.selectionEnd=a)},0)}},m=async(a,h)=>{h&&h.preventDefault(),H(a).then(y=>{y?o(r,"/establishment/home"):l(!1)})},v=a=>{a.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-screen w-screen flex justify-center items-center ",children:e.jsx(L,{className:"px-4 py-3 form-modal bg-primary-dark-cyan rounded-lg flex justify-between items-center flex-col",children:e.jsxs("form",{className:"w-full flex flex-col gap-5",onSubmit:d(m),children:[e.jsx(p,{onClick:()=>o(r,"/"),underline:"hover",className:"cursor-pointer",children:"Voltar para o site"}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{className:"h-28 w-28",src:D,alt:"tophair-icon"})}),f?e.jsx(E,{updateValidRecaptcha:j}):e.jsxs("div",{children:[e.jsx("div",{className:"w-full flex gap-8 flex-col p-4",children:e.jsxs(F,{theme:V,children:[e.jsx(N,{label:"Email",variant:"standard",size:"medium",type:"email",placeholder:"Digite seu Email",...c("email",{required:"Campo é Obrigatório"}),error:!!t.email,helperText:(u=t.email)==null?void 0:u.message}),e.jsxs(T,{error:!!t.senha,variant:"standard",children:[e.jsx(R,{htmlFor:"standard-adornment-password",children:"Password"}),e.jsx(k,{id:"standard-adornment-password",type:i?"text":"password",inputRef:s,placeholder:"Digite sua Senha",...c("senha",{required:"Campo é obrigatório"}),"aria-describedby":"component-error-text",endAdornment:e.jsx(z,{position:"end",children:e.jsx(M,{"aria-label":"toggle password visibility",onClick:b,onMouseDown:v,children:i?e.jsx(A,{}):e.jsx(q,{})})})}),e.jsx(I,{id:"component-error-text",children:t.senha&&t.senha.message})]})]})}),e.jsxs("div",{className:"w-full flex flex-col items-center gap-12",children:[e.jsxs("p",{className:"text-white text-sm",children:["Ainda não tem uma conta ?"," ",e.jsx(p,{onClick:()=>o(r,"/form"),underline:"hover",children:"cadastre-se aqui"})]}),e.jsx(P,{variant:"contained",className:"button-login bg-primary-aqua w-48 rounded-sm",value:"submit",type:"submit",onClick:()=>{w(!0)},children:"Entrar"})]})]})]})})})})}export{J as default};
