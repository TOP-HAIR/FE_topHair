import{r as n,z as C,J as N,j as e,W as p,Q as o,D as T,ad as R,ae as S,af as k,ag as I,E as P,ah as D}from"./index-63e091e0.js";import{T as E,R as B,a as F,I as A,d as q,b as H,u as L}from"./authContext-b12ae151.js";import{B as z}from"./Box-cbd5ab6e.js";import{I as M}from"./IconButton-e06243f8.js";const V=D({palette:{mode:"dark"}});function W(){var u;const[i,x]=n.useState(!1),[f,l]=n.useState(!1),{register:c,handleSubmit:d,formState:{errors:t},trigger:g}=C(),s=n.useRef(null),r=N(),j=a=>{a&&g().then(()=>{d(m)()})},w=a=>{l(a)},b=()=>{if(x(a=>!a),s.current){const a=s.current.value.length;setTimeout(()=>{s.current&&(s.current.selectionStart=a,s.current.selectionEnd=a)},0)}},m=async(a,h)=>{h&&h.preventDefault(),L(a).then(y=>{y?o(r,"/establishment/home"):l(!1)})},v=a=>{a.preventDefault()};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"h-screen w-screen flex justify-center items-center ",children:e.jsx(z,{className:"px-4 py-3 form-modal bg-primary-dark-cyan rounded-lg flex justify-between items-center flex-col",children:e.jsxs("form",{className:"w-full flex flex-col gap-5",onSubmit:d(m),children:[e.jsx(p,{onClick:()=>o(r,"/"),underline:"hover",className:"cursor-pointer",children:"Voltar para o site"}),e.jsx("div",{className:"w-full flex justify-center",children:e.jsx("img",{className:"h-28 w-28",src:E,alt:"tophair-icon"})}),f?e.jsx(B,{updateValidRecaptcha:j}):e.jsxs("div",{children:[e.jsx("div",{className:"w-full flex gap-8 flex-col p-4",children:e.jsxs(F,{theme:V,children:[e.jsx(T,{label:"Email",variant:"standard",size:"medium",type:"email",placeholder:"Digite seu Email",...c("email",{required:"Campo é Obrigatório"}),error:!!t.email,helperText:(u=t.email)==null?void 0:u.message}),e.jsxs(R,{error:!!t.senha,variant:"standard",children:[e.jsx(S,{htmlFor:"standard-adornment-password",children:"Password"}),e.jsx(k,{id:"standard-adornment-password",type:i?"text":"password",inputRef:s,placeholder:"Digite sua Senha",...c("senha",{required:"Campo é obrigatório"}),"aria-describedby":"component-error-text",endAdornment:e.jsx(A,{position:"end",children:e.jsx(M,{"aria-label":"toggle password visibility",onClick:b,onMouseDown:v,children:i?e.jsx(q,{}):e.jsx(H,{})})})}),e.jsx(I,{id:"component-error-text",children:t.senha&&t.senha.message})]})]})}),e.jsxs("div",{className:"w-full flex flex-col items-center gap-12",children:[e.jsxs("p",{className:"text-white text-sm",children:["Ainda não tem uma conta ?"," ",e.jsx(p,{onClick:()=>o(r,"/form"),underline:"hover",children:"cadastre-se aqui"})]}),e.jsx(P,{variant:"contained",className:"button-login bg-primary-aqua w-48 rounded-sm",value:"submit",type:"submit",onClick:()=>{w(!0)},children:"Entrar"})]})]})]})})})})}export{W as default};
