var x=Object.defineProperty;var h=(s,a,r)=>a in s?x(s,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[a]=r;var i=(s,a,r)=>(h(s,typeof a!="symbol"?a+"":a,r),r);import{j as e,Z as f,A as p,s as n,r as o,C as j,L as v,N as C}from"./index-3efc4bb5.js";function N({comment:s}){var a;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("img",{className:"rounded-full h-12 w-12",src:s.imagem,alt:"Imagem Perfil Usuário"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg ",children:(a=s==null?void 0:s.usuario)==null?void 0:a.nomeCompleto}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{name:"read-only",value:s==null?void 0:s.nivel,readOnly:!0}),e.jsx("p",{className:"font-extralight",children:s==null?void 0:s.nivel})]})]})]}),e.jsx("p",{className:" font-family-dm-sans",children:s.comentario})]})}class E extends p{constructor(){super();i(this,"commentUrl");this.commentUrl="/avaliacoes"}async getUltimosAgendamentos(){const r=this.commentUrl;return await n("GET",r+"/empresa/")}async getComments(){const r=this.commentUrl;return await n("GET",r+`/empresa/${this.idEmpresa}`)}}const d=new E,c=sessionStorage.getItem("dataEmpresa");if(c!==null){const a=JSON.parse(c).idEmpresa;d.idEmpresa=a}const S=async()=>{try{return await d.getComments()}catch(s){console.log(s)}};function b(){const[s,a]=o.useState(!1),[r,m]=o.useState(!1),[g,u]=o.useState([]);return o.useEffect(()=>{async function l(){a(!1);try{const t=await S();console.log(t),(t==null||t.data.length==0)&&m(!0),t!=null&&u(t.data),a(!0)}catch(t){console.error("Erro ao buscar serviços:",t)}}l()},[]),e.jsx(e.Fragment,{children:e.jsx("section",{className:"w-full h-full",children:e.jsxs(j,{className:"h-full m-5",children:[e.jsx("h2",{className:"m-6 text-2xl font-bold",children:"Comentários"}),s?r?e.jsx(C,{}):e.jsx("div",{className:"m-6 grid grid-col-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-8",children:g.map(l=>e.jsx("div",{className:"w-full grid rounded card-service p-4 relative gap-4 grow",children:e.jsx(N,{comment:l})},l.idAvaliacao))}):e.jsx(v,{})]})})})}export{b as default};
